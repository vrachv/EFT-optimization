# Гайд по оптимизации Escape from Tarkov
Read this in other languages: [English](README.md), [Russian](README.ru.md)

*Локализовано под Windows 10 - названия некоторых пунктов могут незначительно отличаться в зависимости от Вашей системы*

## Руководство
Это руководство предназначено для повышения производительности в игре Escape from Tarkov.
Мы не несем ответственность за ваши действия на вашем компьютере.

Если вы считаете, что это руководство можно улучшить, пожалуйста, дайте мне знать.

## Содействие
При желании каждый может внести свой вклад.

## Оглавление

### Общие рекомендации

- [Обновление драйверов видеокарты](#обновление-драйверов-видеокарты)
- [Настройки NVIDIA](#настройки-nvidia)
- [Настройки AMD](#настройки-amd)
- [Файл подкачки](#файл-подкачки)
- [Настройки электропитания](#настройки-электропитания)
- [Graphics settings in the game](#graphics-settings-in-the-game)
- [Оптимизация SSD](#оптимизация-ssd)
- [Как включить NVIDIA Freestyle (12.5+)](#как-включить-nvidia-freestyle)

### Для слабых/средних ПК

- [Оптимизация полноэкранного режима](#оптимизация-полноэкранного-режима)
- [Оптимизация фоновых процессов](#оптимизация-фоновых-процессов)
  - [Discord](#discord)
  - [Google Chrome](#google-chrome)
  - [XBOX DVR](#xbox-dvr)
- [Очистка временных файлов](#очистка-временных-файлов)

# Быстрое решение

Если вы не понимаете или просто не хотите делать все вручную, можете воспользоваться **.reg** файлом. Текстовое руководство содержит больше информации.

- **.reg** файл оптимизации — [Скачать](https://github.com/vrachv/EFT-optimization/releases/download/1.0.0/optimization.reg)
- Сброс настроек оптимизации  — [Скачать](https://github.com/vrachv/EFT-optimization/releases/download/1.0.0/default.reg)

После применения необходимо перезагрузить компьютер.

# Общие рекомендации

## Обновление драйверов видеокарты

Рекомендуется установить последнюю версию драйвера для вашего GPU.

Драйвера NVIDIA — [Скачать](https://www.nvidia.com/download/index.aspx)

Драйвера AMD — [Скачать](https://www.amd.com/en/technologies/radeon-software)

## Настройки NVIDIA

1. Откройте **Панель управления NVIDIA**
2. Перейдите в **Регулировка настроек изображения с просмотром**
3. Кликните на **Пользовательские настройки с упором на:** и установите значение **Производительность**
4. Нажмите **Применить**
5. Перейдите в **Управление параметрами 3D**
6. Кликните на **Программные настройки**
7. Выберите или добавьте приложение **EscapeFromTarkov.exe**
8. Установите эти настройки:

| Функция                             | Параметр                   |
| ----------------------------------- | -------------------------- |
| Вертикальный синхроимпульс          | Выкл                       |
| Заранее подготовленные кадры в.р.   | 1                          |
| Кэширование шейдеров                | Вкл                        |
| Режим управления электропитанием    | Предпочтителен режим м. п. |
| Тройная буферизация                 | Выкл                       |

9. Нажмите **Применить**

## Настройки AMD

**TODO**

## Файл подкачки

1. Нажмите **Win+R**, напишите `control` и нажмите **enter**
2. Перейдите в **Система** и слева нажмите **Дополнительные параметры системы**
3. Перейдите в **Дополнительно**
4. Нажмите **Параметры...** в блоке **Быстродействие**
5. Перейдите в **Дополнительно**
6. Нажмите **Изменить...** в блоке **Виртуальная память**
7. Уберите галочку **Автоматически выбирать объем файла подкачки**
8. Выберите системный диск и нажмите **Указать размер**
9. Для игры Escape from Tarkov рекомендуются значения **15000-25000**, независимо от объема установленной оперативной памяти. **Устанавливайте одинаковые значения в обеих строках!**
10. Нажмите **Задать** и **OK**
11. Нажмите **Win+R**, напишите `regedit` и нажмите **enter**
12. Перейдите по пути `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management`
13. В правой панели найдите **ClearPageFileAtShutdown** и установите значение `1`
14. Перезагрузите компьютер

## Настройки электропитания

1. Нажмите клавишу **Win** и напишите `cmd`, щелкните ПКМ по первому результату и выберите **Запуск от имени администратора**
2. Скопируйте `powercfg -duplicatescheme e9a42b02-d5df-448d-aa00-03f14749eb61`, вставьте в командную строку и нажмите **enter**
3. Перезагрузите компьютер

## Graphics settings in the game

Settings for minimum system requirements. If you have a good PC, you can increase the settings.

| Setting               | Value      |
| --------------------- | ---------- |
| Fullscreen mode       | Fullscreen |
| VSync                 | Disable    |
| Texture quality       | low-medium |
| Shadows quality       | low        |
| Object LOD quality    | 2          |
| Overall visibility    | 400-1000   |
| Shadow visibility     | 40         |
| Antialiasing          | off        |
| Resampling            | 1x off     |
| HBAO                  | off        |
| SSR                   | off        |
| Anisotropic Filtering | off        |
| Sharpness             | 0-0.5      |
| Lobby FPS Limit       | 60         |
| Game FPS Limit        | 120        |
| Z-Blur                | Uncheck    |
| Chrom. aberrations    | Uncheck    |
| Noise                 | Uncheck    |
| Grass Shadows         | Uncheck    |

- Go to the gameplay settings and turn on the auto ram cleaner. This can cause statters! If this is the case, turn off the option to clean the RAM!

Z-Blur, Chrom. aberratins, Noise and Grass Shadows don't affect performance, but may interfere with the gameplay.

## Оптимизация SSD

Escape from Tarkov должен быть установлен на SSD

1. Откройте проводник и нажмите **Этот компьютер**
2. Нажмите ПКМ по **Локальный диск (C:)** и нажмите **Свойства**
3. В **Общие** снимите галочку **Разрешить индексировать содержимое файлов на этом диске в дополнение к свойствам файла**
4. Нажмите **Применить** и **OK**
5. Нажмите **Win+R**, напишите `services.msc` и нажмите **Enter**
6. Найдите **SysMain** в Службах
7. Перейдите в **Свойства** и поменяйте **Тип запуска** на **Отключена**
8. Нажмите клавишу **Win** и напишите `cmd`, щелкните ПКМ по первому результату и выберите **Запуск от имени администратора**
9. Напишите `powercfg -h off` и нажмите **Enter**
10. Перезагрузите компьютер

## Как включить NVIDIA Freestyle

**Изучаю проблему в данный момент.**

> НЕ работает: **0.12.6.7959**

1. Если ваш NVIDIA драйвер новее версии 445.87 удалите его и установите эту версию - [Скачать](http://us.download.nvidia.com/Windows/445.87/445.87-desktop-win10-64bit-international-dch-whql.exe)
2. Удалите **GeForce Experience**
3. Установите GFE версии 3.20.0.118 — [Скачать](https://us.download.nvidia.com/GFE/GFEClient/3.20.0.118/GeForce_Experience_v3.20.0.118.exe)
4. Запустите **GeForce Experience** и войдите в свой аккаунт NVIDIA
5. Нажмите **Win+R**, напишите `C:\Program Files\NVIDIA Corporation\NVIDIA GeForce Experience` и нажмите Enter, откройте **NVIDIA GeForce Experience.json** (используйте Notepad++ — [Скачать](https://notepad-plus-plus.org/downloads/))
6. Найдите строчку `"nv-self-update-path=Downloader\\gfeupdate.json",`
7. Замените `Downloader` на `1Downloader`
8. Сохраните изменения и закройте файл

**Если что-то не работает:**
- Не используйте эксперементальные функции GeForce Experience
- Внимательно проверьте версии GFE и NVIDIA драйвера

**ReShade фильтры для NVIDIA freestyle:**
1. [Скачать](https://mega.nz/file/kUkjgLZC#_z1lzI1a1eCXDASQ7CwxA_36PGlFg7d7mBsuuWLfofo)
2. Скопируйте папку **Custom** по пути `C:\Program Files\NVIDIA Corporation\Ansel` (создайте папку Ansel при необходимости)

# Для слабых/средних ПК

## Оптимизация полноэкранного режима

1. Зайдите в корневую папку игры
2. Зайдите в **Свойства** файла **EscapeFromTarkov.exe**
3. Перейдите в **Совместимость** и поставьте галочку **Отключить оптимизацию во весь экран**
4. На той же странице нажмите **Изменить параметры высокого DPI**
5. Поставьте галочку **Переопределение режима маштабирования высокого разрешения**, используйте выпадающее меню ниже **Масштабирование выполняется:**, и выберите **Приложение**
6. Нажмите **OK** и **OK**

## Оптимизация фоновых процессов

### Discord

1. Перейдите в **Настройки пользователя**
2. В левой панели нажмите **Внешний вид**
3. Выключите **Аппаратное ускорение**
4. В левой панели нажмите на **Оверлей**
5. Выключите **Включить внутриигровой оверлей.**

### Google Chrome

1. Используя адресную строку, перейдите `chrome://settings/`
2. В левой панели нажмите **Дополнительные**
3. Перейдите в **Система**
4. Выключите **Не отключать работающие в фоновом режиме сервисы при закрытии браузера**

### XBOX DVR

Графические процессоры NVIDIA ограничены двумя сессиями кодирования. Game DVR и Geforce Experience(ShadowPlay) часто используют оба этих сеанса, что препятствует записи или потоковой передаче(или обоим одновременно) при использовании NVENC. Game DVR также может вызывать проблемы с производительностью, рекомендуется отключить его, даже если вы не планируете использовать аппаратное кодирование.

1. Нажмите ПКМ по кнопке «Пуск»
2. Нажмите **Параметры**
3. Нажмите **Игры**
4. Нажмите **Меню игры**
5. Отключите **Записывайте игровые клипы, делайте снимки экрана и транслируйте их с помощью меню игры**
6. Нажмите **Игровой режим**
7. Отключите **Режим игры**
8. Нажмите **Клипы**
9. Отключите **Вести запись в фоновом режиме, пока идет игра**
10. Перезагрузите компьютер

## Очистка временных файлов

**ВНИМАНИЕ**: Если вы не понимаете, что такое временные файлы, не делайте этого!

1. Нажмите комбинацию **Win+R**, наберите `%temp%` и нажмите **Enter**
2. Удалите все файлы в открывшейся папке.
3. Нажмите комбинацию **Win+R**, наберите `temp` и нажмите **Enter**
4. Удалите все файлы в открывшейся папке.
5. Нажмите комбинацию **Win+R**, наберите `prefetch` и нажмите **Enter**
6. Удалите все файлы в открывшейся папке.

Пропустите неудаляющиеся файлы!
